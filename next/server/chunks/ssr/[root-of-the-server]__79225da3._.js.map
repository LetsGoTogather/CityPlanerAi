{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/google-genai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.5-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,6KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/summarize-terrain-analysis.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Summarizes terrain analysis from a satellite image.\n *\n * - summarizeTerrainAnalysis - A function that summarizes terrain analysis.\n * - SummarizeTerrainAnalysisInput - The input type for the summarizeTerrainAnalysis function.\n * - SummarizeTerrainAnalysisOutput - The return type for the summarizeTerrainAnalysis function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst SummarizeTerrainAnalysisInputSchema = z.object({\n  satelliteImageDataUri: z\n    .string()\n    .describe(\n      \"A satellite image of the land, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n  terrainAnalysis: z\n    .string()\n    .describe('The raw terrain analysis to be summarized.'),\n});\nexport type SummarizeTerrainAnalysisInput = z.infer<typeof SummarizeTerrainAnalysisInputSchema>;\n\nconst SummarizeTerrainAnalysisOutputSchema = z.object({\n  summary: z.string().describe('A concise summary of the terrain analysis.'),\n});\nexport type SummarizeTerrainAnalysisOutput = z.infer<typeof SummarizeTerrainAnalysisOutputSchema>;\n\nexport async function summarizeTerrainAnalysis(\n  input: SummarizeTerrainAnalysisInput\n): Promise<SummarizeTerrainAnalysisOutput> {\n  return summarizeTerrainAnalysisFlow(input);\n}\n\nconst summarizeTerrainAnalysisPrompt = ai.definePrompt({\n  name: 'summarizeTerrainAnalysisPrompt',\n  input: {schema: SummarizeTerrainAnalysisInputSchema},\n  output: {schema: SummarizeTerrainAnalysisOutputSchema},\n  prompt: `You are an expert in summarizing terrain analysis reports for urban planners.\n\n  Summarize the following terrain analysis, highlighting key features relevant to city planning.\n\n  Terrain Analysis:\n  {{terrainAnalysis}}\n\n  Satellite Image:\n  {{media url=satelliteImageDataUri}}\n  `,\n});\n\nconst summarizeTerrainAnalysisFlow = ai.defineFlow(\n  {\n    name: 'summarizeTerrainAnalysisFlow',\n    inputSchema: SummarizeTerrainAnalysisInputSchema,\n    outputSchema: SummarizeTerrainAnalysisOutputSchema,\n  },\n  async input => {\n    const {output} = await summarizeTerrainAnalysisPrompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,sCAAsC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACnD,uBAAuB,uIAAA,CAAA,IAAC,CACrB,MAAM,GACN,QAAQ,CACP;IAEJ,iBAAiB,uIAAA,CAAA,IAAC,CACf,MAAM,GACN,QAAQ,CAAC;AACd;AAGA,MAAM,uCAAuC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACpD,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC/B;AAGO,eAAe,yBACpB,KAAoC;IAEpC,OAAO,6BAA6B;AACtC;AAEA,MAAM,iCAAiC,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IACrD,MAAM;IACN,OAAO;QAAC,QAAQ;IAAmC;IACnD,QAAQ;QAAC,QAAQ;IAAoC;IACrD,QAAQ,CAAC;;;;;;;;;EAST,CAAC;AACH;AAEA,MAAM,+BAA+B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAChD;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,+BAA+B;IACtD,OAAO;AACT;;;IA/BoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/optimize-zone-distribution.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Optimizes the zone distribution for a city plan based on terrain analysis,\n *               population, and budget constraints.\n *\n * - optimizeZoneDistribution - A function that takes terrain analysis, population, and budget\n *                              as input and suggests an optimized zone distribution.\n * - OptimizeZoneDistributionInput - The input type for the optimizeZoneDistribution function.\n * - OptimizeZoneDistributionOutput - The return type for the optimizeZoneDistribution function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst OptimizeZoneDistributionInputSchema = z.object({\n  terrainAnalysis: z\n    .string()\n    .describe('The analysis of the terrain, soil, water bodies, and topography from the satellite image.'),\n  population: z.number().describe('The target population of the city.'),\n  budget: z.number().describe('The budget for the city in local currency.'),\n});\nexport type OptimizeZoneDistributionInput = z.infer<typeof OptimizeZoneDistributionInputSchema>;\n\nconst OptimizeZoneDistributionOutputSchema = z.object({\n  zoneDistribution: z.object({\n    residential: z.number().describe('The percentage of land allocated to residential areas.'),\n    commercial: z.number().describe('The percentage of land allocated to commercial areas.'),\n    industrial: z.number().describe('The percentage of land allocated to industrial areas.'),\n    greenSpaces: z.number().describe('The percentage of land allocated to green spaces.'),\n    publicServices: z.number().describe('The percentage of land allocated to public services.'),\n  }).describe('The optimized zone distribution for the city.'),\n  reasoning: z.string().describe('The detailed reasoning behind the suggested zone distribution.'),\n});\nexport type OptimizeZoneDistributionOutput = z.infer<typeof OptimizeZoneDistributionOutputSchema>;\n\nexport async function optimizeZoneDistribution(input: OptimizeZoneDistributionInput): Promise<OptimizeZoneDistributionOutput> {\n  return optimizeZoneDistributionFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'optimizeZoneDistributionPrompt',\n  input: {schema: OptimizeZoneDistributionInputSchema},\n  output: {schema: OptimizeZoneDistributionOutputSchema},\n  prompt: `You are an expert urban planner with 20 years of experience.\n\nBased on the terrain analysis, population, and budget provided, suggest an optimized zone distribution for the city.\n\nTerrain Analysis: {{{terrainAnalysis}}}\nPopulation: {{{population}}}\nBudget: {{{budget}}}\n\nConsider the following factors when determining the zone distribution:\n\n*   The need for residential areas to house the population.\n*   The need for commercial areas to provide jobs and services.\n*   The need for industrial areas to support the economy.\n*   The need for green spaces to provide recreation and improve the environment.\n*   The need for public services such as schools, hospitals, and police stations.\n\nReturn the zone distribution as a JSON object with the following keys:\n\n*   residential: The percentage of land allocated to residential areas.\n*   commercial: The percentage of land allocated to commercial areas.\n*   industrial: The percentage of land allocated to industrial areas.\n*   greenSpaces: The percentage of land allocated to green spaces.\n*   publicServices: The percentage of land allocated to public services.\n\nAlso, include a detailed reasoning behind the suggested zone distribution.\n\nOutput format:{\n  \"zoneDistribution\": {\n    \"residential\": 40,\n    \"commercial\": 20,\n    \"industrial\": 15,\n    \"greenSpaces\": 15,\n    \"publicServices\": 10\n  },\n  \"reasoning\": \"Detailed reasoning here...\"\n}`,\n});\n\nconst optimizeZoneDistributionFlow = ai.defineFlow(\n  {\n    name: 'optimizeZoneDistributionFlow',\n    inputSchema: OptimizeZoneDistributionInputSchema,\n    outputSchema: OptimizeZoneDistributionOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n\n"],"names":[],"mappings":";;;;;AAEA;;;;;;;;CAQC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,sCAAsC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACnD,iBAAiB,uIAAA,CAAA,IAAC,CACf,MAAM,GACN,QAAQ,CAAC;IACZ,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAChC,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC9B;AAGA,MAAM,uCAAuC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACpD,kBAAkB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACzB,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACjC,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAChC,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QAChC,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACjC,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACtC,GAAG,QAAQ,CAAC;IACZ,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACjC;AAGO,eAAe,yBAAyB,KAAoC;IACjF,OAAO,6BAA6B;AACtC;AAEA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ;IAAmC;IACnD,QAAQ;QAAC,QAAQ;IAAoC;IACrD,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAmCV,CAAC;AACF;AAEA,MAAM,+BAA+B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAChD;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,OAAO;IAC9B,OAAO;AACT;;;IAvDoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/simulate-traffic-and-pollution.ts"],"sourcesContent":["// src/ai/flows/simulate-traffic-and-pollution.ts\n'use server';\n/**\n * @fileOverview Simulates traffic and pollution for a city plan.\n *\n * - simulateTrafficAndPollution - A function that simulates traffic and pollution based on a city plan.\n * - SimulateTrafficAndPollutionInput - The input type for the simulateTrafficAndPollution function, which includes the city plan as a JSON string.\n * - SimulateTrafficAndPollutionOutput - The return type for the simulateTrafficAndPollution function, providing an analysis of potential issues and suggestions.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst SimulateTrafficAndPollutionInputSchema = z.object({\n  cityPlan: z.string().describe('The city plan as a JSON string.'),\n});\nexport type SimulateTrafficAndPollutionInput = z.infer<typeof SimulateTrafficAndPollutionInputSchema>;\n\nconst SimulateTrafficAndPollutionOutputSchema = z.object({\n  trafficAnalysis: z.string().describe('An analysis of the traffic flow in the city, identifying potential congestion points.'),\n  pollutionAnalysis: z.string().describe('An analysis of the pollution impact of the city, identifying potential problem areas.'),\n  potentialIssues: z.array(z.string()).describe('A list of potential issues identified by the simulation.'),\n  suggestions: z.array(z.string()).describe('A list of suggestions to address the potential issues.'),\n});\nexport type SimulateTrafficAndPollutionOutput = z.infer<typeof SimulateTrafficAndPollutionOutputSchema>;\n\nexport async function simulateTrafficAndPollution(input: SimulateTrafficAndPollutionInput): Promise<SimulateTrafficAndPollutionOutput> {\n  return simulateTrafficAndPollutionFlow(input);\n}\n\nconst simulateTrafficAndPollutionPrompt = ai.definePrompt({\n  name: 'simulateTrafficAndPollutionPrompt',\n  input: {schema: SimulateTrafficAndPollutionInputSchema},\n  output: {schema: SimulateTrafficAndPollutionOutputSchema},\n  prompt: `You are an expert urban planner specializing in simulating the traffic flow and pollution impact of city plans.\n\nYou will receive a city plan as a JSON string.  Your task is to analyze the plan and identify potential issues related to traffic and pollution.\n\nBased on your analysis, provide a list of potential issues and suggestions to address them.\n\nCity Plan:\n{{{cityPlan}}}\n\nReturn your response in JSON format.\n`,\n});\n\nconst simulateTrafficAndPollutionFlow = ai.defineFlow(\n  {\n    name: 'simulateTrafficAndPollutionFlow',\n    inputSchema: SimulateTrafficAndPollutionInputSchema,\n    outputSchema: SimulateTrafficAndPollutionOutputSchema,\n  },\n  async input => {\n    const {output} = await simulateTrafficAndPollutionPrompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;AAEjD;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,yCAAyC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACtD,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAChC;AAGA,MAAM,0CAA0C,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACvD,iBAAiB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACrC,mBAAmB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACvC,iBAAiB,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;IAC9C,aAAa,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;AAC5C;AAGO,eAAe,4BAA4B,KAAuC;IACvF,OAAO,gCAAgC;AACzC;AAEA,MAAM,oCAAoC,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IACxD,MAAM;IACN,OAAO;QAAC,QAAQ;IAAsC;IACtD,QAAQ;QAAC,QAAQ;IAAuC;IACxD,QAAQ,CAAC;;;;;;;;;;AAUX,CAAC;AACD;AAEA,MAAM,kCAAkC,mHAAA,CAAA,KAAE,CAAC,UAAU,CACnD;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAC,MAAM,EAAC,GAAG,MAAM,kCAAkC;IACzD,OAAO;AACT;;;IA9BoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 533, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/generate-city-plan.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Generates a comprehensive city plan including a visual map layout.\n *\n * - generateCityPlan - A function that takes terrain analysis and city parameters\n *                        to generate a full city plan with map data.\n * - GenerateCityPlanInput - The input type for the generateCityPlan function.\n * - GenerateCityPlanOutput - The return type for the generateCityPlan function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\n\nconst CoordinateSchema = z.array(z.number()).length(2);\n\nconst RoadSchema = z.object({\n  type: z.enum(['highway', 'arterial', 'local']),\n  coordinates: z.array(CoordinateSchema),\n  reasoning: z.string(),\n});\n\nconst ZoneSchema = z.object({\n  type: z.enum(['residential', 'commercial', 'industrial', 'greenSpaces', 'publicServices']),\n  coordinates: z.array(CoordinateSchema),\n  density: z.string().optional(),\n  reasoning: z.string(),\n});\n\nconst InfrastructureSchema = z.object({\n  type: z.string(), // e.g., 'power_plant', 'hospital', 'school'\n  coordinates: CoordinateSchema,\n  reasoning: z.string(),\n  capacity: z.string().optional(),\n});\n\nexport const MapDataSchema = z.object({\n  roads: z.array(RoadSchema),\n  zones: z.array(ZoneSchema),\n  infrastructure: z.array(InfrastructureSchema),\n});\n\nconst CityPlanReportSchema = z.object({\n  overview: z.string(),\n  roadNetwork: z.object({\n    highways: z.array(z.string()),\n    arterialRoads: z.array(z.string()),\n    localRoads: z.array(z.string()),\n    reasoning: z.string(),\n  }),\n  zoning: z.record(z.object({ areas: z.array(z.string()), density: z.string().optional(), reasoning: z.string() })),\n  infrastructure: z.object({\n    powerSupply: z.object({ locations: z.array(z.string()), type: z.string(), capacity: z.string(), reasoning: z.string() }),\n    waterSupply: z.object({ treatmentPlants: z.array(z.string()), pipelineNetwork: z.string(), reasoning: z.string() }),\n    sewageSystem: z.object({ treatmentPlants: z.array(z.string()), network: z.string(), reasoning: z.string() }),\n  }),\n  budgetBreakdown: z.object({\n    landAcquisition: z.string(),\n    roadConstruction: z.string(),\n    buildingConstruction: z.string(),\n    utilities: z.string(),\n    materials: z.record(z.string()),\n  }),\n  timeline: z.object({\n    phase1: z.string(),\n    phase2: z.string(),\n    phase3: z.string(),\n  }),\n});\n\n\nexport const GenerateCityPlanOutputSchema = z.object({\n  mapData: MapDataSchema,\n  report: CityPlanReportSchema,\n});\nexport type GenerateCityPlanOutput = z.infer<typeof GenerateCityPlanOutputSchema>;\n\n\nconst GenerateCityPlanInputSchema = z.object({\n    terrainAnalysis: z.string(),\n    population: z.number(),\n    budget: z.number(),\n    zoneDistribution: z.string(),\n    specialRequirements: z.string(),\n});\nexport type GenerateCityPlanInput = z.infer<typeof GenerateCityPlanInputSchema>;\n\n\nexport async function generateCityPlan(input: GenerateCityPlanInput): Promise<GenerateCityPlanOutput> {\n  return generateCityPlanFlow(input);\n}\n\n\nconst prompt = ai.definePrompt({\n  name: 'generateCityPlanPrompt',\n  input: { schema: GenerateCityPlanInputSchema },\n  output: { schema: GenerateCityPlanOutputSchema },\n  prompt: `ACT AS AN EXPERT URBAN PLANNER with 20 years of experience.\n\nSATELLITE IMAGE ANALYSIS:\n{{{terrainAnalysis}}}\n\nCITY REQUIREMENTS:\n- Population: {{{population}}}\n- Budget: {{{budget}}}\n- Zone Distribution: {{{zoneDistribution}}}\n- Special Requirements: {{{specialRequirements}}}\n\nCREATE A COMPREHENSIVE CITY PLAN WITH A VISUAL MAP.\nThe coordinate system is relative to the image, where x and y range from 0 to 100.\n\nYour response must be a JSON object with 'mapData' and 'report' keys.\n\n'mapData' must contain coordinates for visualization:\n- roads: An array of road objects. Each object should have 'type' ('highway', 'arterial', 'local'), 'coordinates' (an array of [x, y] points forming a line), and 'reasoning'.\n- zones: An array of zone objects. Each object should have 'type' ('residential', 'commercial', 'industrial', 'greenSpaces', 'publicServices'), 'coordinates' (an array of [x, y] points forming a closed polygon), and 'reasoning'.\n- infrastructure: An array of infrastructure objects. Each object should have 'type' (e.g., 'hospital', 'school'), 'coordinates' (a single [x, y] point), and 'reasoning'.\n\n'report' must contain a detailed textual description of the plan, including:\n- overview: A summary of the plan.\n- roadNetwork: Descriptions of highways, arterial, and local roads.\n- zoning: Details for each zone type.\n- infrastructure: Plans for power, water, and sewage.\n- budgetBreakdown: Cost allocation and required materials.\n- timeline: Phased development plan.\n\nIMPORTANT: Provide exact coordinates for all map elements. Ensure polygons for zones are closed (first and last points are the same). The entire output must be a single valid JSON object adhering to the specified Zod schema.\n`,\n});\n\nconst generateCityPlanFlow = ai.defineFlow(\n  {\n    name: 'generateCityPlanFlow',\n    inputSchema: GenerateCityPlanInputSchema,\n    outputSchema: GenerateCityPlanOutputSchema,\n  },\n  async (input) => {\n    const { output } = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;;;AAEA;;;;;;;CAOC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,mBAAmB,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,MAAM,CAAC;AAEpD,MAAM,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1B,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAW;QAAY;KAAQ;IAC7C,aAAa,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACrB,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;AACrB;AAEA,MAAM,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC1B,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAe;QAAc;QAAc;QAAe;KAAiB;IACzF,aAAa,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACrB,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;IAC5B,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;AACrB;AAEA,MAAM,uBAAuB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACpC,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM;IACd,aAAa;IACb,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;IACnB,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;AAC/B;AAEO,MAAM,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACpC,OAAO,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACf,OAAO,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;IACf,gBAAgB,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC;AAC1B;AAEA,MAAM,uBAAuB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACpC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM;IAClB,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACpB,UAAU,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM;QAC1B,eAAe,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM;QAC/B,YAAY,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM;QAC5B,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;IACrB;IACA,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QAAE,OAAO,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM;QAAK,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;QAAI,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;IAAG;IAC9G,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACvB,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YAAE,WAAW,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM;YAAK,MAAM,uIAAA,CAAA,IAAC,CAAC,MAAM;YAAI,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM;YAAI,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;QAAG;QACtH,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YAAE,iBAAiB,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM;YAAK,iBAAiB,uIAAA,CAAA,IAAC,CAAC,MAAM;YAAI,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;QAAG;QACjH,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;YAAE,iBAAiB,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM;YAAK,SAAS,uIAAA,CAAA,IAAC,CAAC,MAAM;YAAI,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;QAAG;IAC5G;IACA,iBAAiB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACxB,iBAAiB,uIAAA,CAAA,IAAC,CAAC,MAAM;QACzB,kBAAkB,uIAAA,CAAA,IAAC,CAAC,MAAM;QAC1B,sBAAsB,uIAAA,CAAA,IAAC,CAAC,MAAM;QAC9B,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM;QACnB,WAAW,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM;IAC9B;IACA,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACjB,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM;QAChB,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM;QAChB,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM;IAClB;AACF;AAGO,MAAM,+BAA+B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACnD,SAAS;IACT,QAAQ;AACV;AAIA,MAAM,8BAA8B,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzC,iBAAiB,uIAAA,CAAA,IAAC,CAAC,MAAM;IACzB,YAAY,uIAAA,CAAA,IAAC,CAAC,MAAM;IACpB,QAAQ,uIAAA,CAAA,IAAC,CAAC,MAAM;IAChB,kBAAkB,uIAAA,CAAA,IAAC,CAAC,MAAM;IAC1B,qBAAqB,uIAAA,CAAA,IAAC,CAAC,MAAM;AACjC;AAIO,eAAe,iBAAiB,KAA4B;IACjE,OAAO,qBAAqB;AAC9B;AAGA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAE,QAAQ;IAA4B;IAC7C,QAAQ;QAAE,QAAQ;IAA6B;IAC/C,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BX,CAAC;AACD;AAEA,MAAM,uBAAuB,mHAAA,CAAA,KAAE,CAAC,UAAU,CACxC;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAO;IACL,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,OAAO;IAChC,OAAO;AACT;;;IAvGW;IAmCA;IAiBS;;AApDT,+OAAA;AAmCA,+OAAA;AAiBS,+OAAA","debugId":null}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/actions.ts"],"sourcesContent":["'use server';\n\nimport { summarizeTerrainAnalysis } from '@/ai/flows/summarize-terrain-analysis';\nimport { optimizeZoneDistribution } from '@/ai/flows/optimize-zone-distribution';\nimport { simulateTrafficAndPollution } from '@/ai/flows/simulate-traffic-and-pollution';\nimport { generateCityPlan } from '@/ai/flows/generate-city-plan';\nimport type { CityParams, FullReport, CityPlan, MapData } from '@/lib/types';\n\nexport async function analyzeImage(imageData: string): Promise<string> {\n  if (!imageData) {\n    throw new Error('Image data is required for analysis.');\n  }\n\n  // The provided Genkit flow requires a `terrainAnalysis` string.\n  // Since we cannot generate it from the image alone with the given flows,\n  // we will provide a mock, descriptive analysis to satisfy the flow's input schema.\n  const mockTerrainAnalysis =\n    'The satellite image displays a varied landscape. The area is predominantly flat with a gentle slope towards the south. A river meanders from the northwest to the southeast, suggesting ample water supply but also flood-prone zones. Patches of dense green indicate fertile soil, suitable for parks or agriculture. A rocky outcrop is visible in the northeast quadrant, which might be challenging for construction but could be a source of materials. There is no existing infrastructure visible.';\n\n  try {\n    const result = await summarizeTerrainAnalysis({\n      satelliteImageDataUri: imageData,\n      terrainAnalysis: mockTerrainAnalysis,\n    });\n    return result.summary;\n  } catch (error) {\n    console.error('Error in summarizeTerrainAnalysis flow:', error);\n    throw new Error('Failed to analyze terrain from image.');\n  }\n}\n\nexport async function getOptimizedZones(\n  terrainSummary: string,\n  population: number,\n  budget: number\n) {\n  try {\n    const result = await optimizeZoneDistribution({\n      terrainAnalysis: terrainSummary,\n      population,\n      budget,\n    });\n    return result;\n  } catch (error) {\n    console.error('Error in optimizeZoneDistribution flow:', error);\n    throw new Error('Failed to optimize zone distribution.');\n  }\n}\n\nexport async function generatePlanAndSimulate(\n  terrainSummary: string,\n  cityParams: CityParams\n): Promise<FullReport> {\n\n  try {\n    const planResult = await generateCityPlan({\n      terrainAnalysis: terrainSummary,\n      population: cityParams.population,\n      budget: cityParams.budget,\n      zoneDistribution: JSON.stringify(cityParams.zoneDistribution),\n      specialRequirements: JSON.stringify(cityParams.specialRequirements),\n    });\n\n    const cityPlan: CityPlan = planResult.report;\n    const mapData: MapData = planResult.mapData;\n\n    const simulation = await simulateTrafficAndPollution({\n      cityPlan: JSON.stringify({ ...cityPlan, parameters: cityParams }),\n    });\n\n    return { cityPlan, simulation, cityParams, mapData };\n  } catch (error) {\n     console.error('Error in plan generation or simulation flow:', error);\n    throw new Error('Failed to generate city plan or run simulation.');\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;;;;;;;;AAGO,eAAe,aAAa,SAAiB;IAClD,IAAI,CAAC,WAAW;QACd,MAAM,IAAI,MAAM;IAClB;IAEA,gEAAgE;IAChE,yEAAyE;IACzE,mFAAmF;IACnF,MAAM,sBACJ;IAEF,IAAI;QACF,MAAM,SAAS,MAAM,CAAA,GAAA,sJAAA,CAAA,2BAAwB,AAAD,EAAE;YAC5C,uBAAuB;YACvB,iBAAiB;QACnB;QACA,OAAO,OAAO,OAAO;IACvB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2CAA2C;QACzD,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe,kBACpB,cAAsB,EACtB,UAAkB,EAClB,MAAc;IAEd,IAAI;QACF,MAAM,SAAS,MAAM,CAAA,GAAA,sJAAA,CAAA,2BAAwB,AAAD,EAAE;YAC5C,iBAAiB;YACjB;YACA;QACF;QACA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2CAA2C;QACzD,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe,wBACpB,cAAsB,EACtB,UAAsB;IAGtB,IAAI;QACF,MAAM,aAAa,MAAM,CAAA,GAAA,8IAAA,CAAA,mBAAgB,AAAD,EAAE;YACxC,iBAAiB;YACjB,YAAY,WAAW,UAAU;YACjC,QAAQ,WAAW,MAAM;YACzB,kBAAkB,KAAK,SAAS,CAAC,WAAW,gBAAgB;YAC5D,qBAAqB,KAAK,SAAS,CAAC,WAAW,mBAAmB;QACpE;QAEA,MAAM,WAAqB,WAAW,MAAM;QAC5C,MAAM,UAAmB,WAAW,OAAO;QAE3C,MAAM,aAAa,MAAM,CAAA,GAAA,6JAAA,CAAA,8BAA2B,AAAD,EAAE;YACnD,UAAU,KAAK,SAAS,CAAC;gBAAE,GAAG,QAAQ;gBAAE,YAAY;YAAW;QACjE;QAEA,OAAO;YAAE;YAAU;YAAY;YAAY;QAAQ;IACrD,EAAE,OAAO,OAAO;QACb,QAAQ,KAAK,CAAC,gDAAgD;QAC/D,MAAM,IAAI,MAAM;IAClB;AACF;;;IAnEsB;IAuBA;IAkBA;;AAzCA,+OAAA;AAuBA,+OAAA;AAkBA,+OAAA","debugId":null}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {generatePlanAndSimulate as '6024f73fca3b54d68f0d6be7504e1182ea0c7f7c66'} from 'ACTIONS_MODULE0'\nexport {analyzeImage as '40123629eac77195a93172518109388c0258fcd3ad'} from 'ACTIONS_MODULE0'\nexport {getOptimizedZones as '70f3da1b607048be9261b21d63616ef957286bbe93'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 860, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoR,GACjT,kDACA","debugId":null}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgQ,GAC7R,8BACA","debugId":null}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}